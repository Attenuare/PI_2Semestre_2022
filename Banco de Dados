CREATE DATABASE livraria


use livraria


create table livro(
	isbn int unique primary key,
	genero varchar(15),
	estoque INT,
	editora varchar(30),
	nome varchar(40),
	autor varchar(40),
	paginas int
);


create table usuario(
	cpf int(11) unique primary key,
	tipo_usuario varchar(15),
	nome varchar(40),
	endereco varchar(40),
	cep int,
	contato int,
	email varchar(50)
);


create table livro_usuario(
	id_controle int auto_increment primary key,
	data_emprestimo date,
	data_devolucao date,
	isbn int,
	cpf int(11),
	foreign key (isbn) references livro(isbn),
	foreign key (cpf) references usuario(cpf)
);



CREATE TABLE donation(
	id int AUTO_INCREMENT UNIQUE PRIMARY KEY NOT NULL,
	title VARCHAR(40) NOT NULL,
	city VARCHAR(30) NOT NULL,
	cep INT NOT NULL,
	phone VARCHAR(17) NOT NULL,
	email VARCHAR(50) NOT NULL,
	description TEXT(250) NOT NULL,
	category VARCHAR(30) NOT NULL,
	image CHAR NOT NULL,
	dateTime DATE NOT NULL,
	items JSON NOT NULL
);




CREATE TABLE login(
	id_usuario INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
	email VARCHAR(50) NOT NULL,
	password VARCHAR(20) NOT NULL
);



CREATE TABLE register(
	id_register INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
	user VARCHAR(20) NOT NULL,
	email VARCHAR(50) NOT NULL,
	password VARCHAR(20)
);


CREATE TABLE estoque(
	id_estoque INT AUTO_INCREMENT UNIQUE PRIMARY KEY NOT NULL,
	numero_estoque INT,
	titulo_livro VARCHAR(40),
	isbn INT NOT NULL,
	FOREIGN KEY (isbn) REFERENCES	livro(isbn)
);
